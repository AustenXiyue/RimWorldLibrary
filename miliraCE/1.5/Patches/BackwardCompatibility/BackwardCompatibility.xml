<?xml version="1.0" encoding="utf-8"?>
<Patch>

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProj_PlasmaShockGrenade"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProj_PlasmaShockGrenade"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBombBig</damageDef>
                <explosionRadius>2.6</explosionRadius>
                <damageAmountBase>40</damageAmountBase>
                <armorPenetrationSharp>15</armorPenetrationSharp>
                <armorPenetrationBlunt>25</armorPenetrationBlunt>
                <stoppingPower>1.8</stoppingPower>
                <speed>22</speed>
                <explosionDelay>100</explosionDelay>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <!-- TODO: Could it be better if implemented with ProjectileCE_Explosive + custom CompExplosiveCE? -->
        <xpath>/Defs/ThingDef[defName="MiliraProj_RepulsiveGrenade"]/thingClass</xpath>
        <value>
            <thingClass>MiliraCE.ProjectileCE_Repulsive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProj_RepulsiveGrenade"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <explosionRadius>4.5</explosionRadius>
                <speed>22</speed>
                <damageAmountBase>8</damageAmountBase>
                <armorPenetrationBase>1.0</armorPenetrationBase>
                <explosionDelay>100</explosionDelay>
                <explosionEffect>Milira_TrapRepulsiveActivated</explosionEffect>

                <dropsCasings>false</dropsCasings>
                <dangerFactor>0</dangerFactor>
                <airborneSuppressionFactor>0</airborneSuppressionFactor>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <!-- TODO: Could it be better if implemented with ProjectileCE_Explosive + custom CompExplosiveCE? -->
        <xpath>/Defs/ThingDef[defName="MiliraProj_AttractiveGrenade"]/thingClass</xpath>
        <value>
            <thingClass>MiliraCE.ProjectileCE_Gravitational</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProj_AttractiveGrenade"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <explosionRadius>8.5</explosionRadius>
                <speed>22</speed>
                <damageAmountBase>6</damageAmountBase>
                <armorPenetrationBase>1.0</armorPenetrationBase>
                <explosionDelay>100</explosionDelay>
                <explosionEffect>Milira_TrapAttractiveActivated</explosionEffect>

                <dropsCasings>false</dropsCasings>
                <dangerFactor>0</dangerFactor>
                <airborneSuppressionFactor>0</airborneSuppressionFactor>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_EMPLauncher"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_EMPLauncher"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_EMPLauncher"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>EMP</damageDef>
                <!-- <flyOverhead>true</flyOverhead> -->
                <explosionRadius>2.5</explosionRadius>
                <damageAmountBase>40</damageAmountBase>
                <stoppingPower>2.0</stoppingPower>
                <speed>80</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_IncendiaryGrenadeLauncher"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_IncendiaryGrenadeLauncher"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_IncendiaryGrenadeLauncher"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Flame</damageDef>
                <!-- <flyOverhead>true</flyOverhead> -->
                <explosionRadius>2.9</explosionRadius>
                <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
                <preExplosionSpawnChance>0.55</preExplosionSpawnChance>
                <damageAmountBase>10</damageAmountBase>
                <soundHitThickRoof>Artillery_HitThickRoof</soundHitThickRoof>
                <soundExplode>MortarIncendiary_Explode</soundExplode>
                <stoppingPower>2.0</stoppingPower>
                <speed>65</speed>
                <ai_IsIncendiary>true</ai_IsIncendiary>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_StunImpulseLauncher"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_StunImpulseLauncher"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_StunImpulseLauncher"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Ancot_StunExceptInstigatorFaction</damageDef>
                <explosionRadius>1.9</explosionRadius>
                <damageAmountBase>6</damageAmountBase>
                <soundExplode>Explosion_EMP</soundExplode>
                <stoppingPower>10.0</stoppingPower>
                <speed>80</speed>
            </projectile>
        </value>
    </Operation>
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_StunImpulseLauncher"]/comps</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_StunImpulseLauncher"]</xpath>
            <value>
                <comps />
            </value>
        </nomatch>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_StunImpulseLauncher"]/comps</xpath>
        <value>
            <li Class="CombatExtended.CompProperties_ProjectileFleck">
                <FleckDatas>
                    <li>
                        <fleck>Milira_AirPuffGlow_Angled</fleck>
                        <emissionsPerTick>1</emissionsPerTick>
                        <flecksPerEmission>1</flecksPerEmission>
                        <scale>1</scale>
                    </li>
                </FleckDatas>
            </li>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_QuadrupleRocketLauncher"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_QuadrupleRocketLauncher"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_QuadrupleRocketLauncher"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Bomb</damageDef>
                <!-- <flyOverhead>true</flyOverhead> -->
                <explosionRadius>2.0</explosionRadius>
                <damageAmountBase>28</damageAmountBase>
                <stoppingPower>1.4</stoppingPower>
                <speed>45</speed>
            </projectile>
        </value>
    </Operation>
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_QuadrupleRocketLauncher"]/comps</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_QuadrupleRocketLauncher"]</xpath>
            <value>
                <comps />
            </value>
        </nomatch>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_CombatDrone_QuadrupleRocketLauncher"]/comps</xpath>
        <value>
            <li Class="CombatExtended.CompProperties_Fragments">
                <fragments>
                    <Fragment_Small>16</Fragment_Small>
                    <Fragment_Large>5</Fragment_Large>
                </fragments>
            </li>
            <li Class="CombatExtended.CompProperties_ProjectileFleck">
                <FleckDatas>
                    <li>
                        <fleck>Fleck_CERocketSmokeTrail</fleck>
                        <emissionsPerTick>2</emissionsPerTick>
                        <rotation>0~360</rotation>
                        <flecksPerEmission>1</flecksPerEmission>
                    </li>
                </FleckDatas>
            </li>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MilianBullet_HeavyPlasma"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_HeavyPlasma"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_HeavyPlasma"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>true</flyOverhead>
                <damageDef>Milira_ParticleBombBig</damageDef>
                <explosionRadius>3.9</explosionRadius>
                <explosionEffect>Milira_HeavyBombExplosion</explosionEffect>
                <damageAmountBase>52</damageAmountBase>
                <armorPenetrationSharp>36</armorPenetrationSharp>
                <armorPenetrationBlunt>634</armorPenetrationBlunt>
                <stoppingPower>5.6</stoppingPower>
                <speed>0</speed> <!-- Use turret's CompProperties_Charges -->
                <gravityFactor>80</gravityFactor> <!-- Make the trajectory with flyOverhead=true flatter (and shorter) -->
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_TurretPlasma"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_TurretPlasma"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_TurretPlasma"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBullet</damageDef>
                <damageAmountBase>12</damageAmountBase>
                <armorPenetrationSharp>6</armorPenetrationSharp>
                <armorPenetrationBlunt>12</armorPenetrationBlunt>
                <stoppingPower>0.6</stoppingPower>
                <speed>95</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyParticle"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyParticle"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyParticle"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>false</flyOverhead>
                <damageDef>Milira_ParticleBomb</damageDef>
                <explosionRadius>1</explosionRadius>
                <damageAmountBase>15</damageAmountBase>
                <armorPenetrationSharp>15</armorPenetrationSharp>
                <armorPenetrationBlunt>25.6</armorPenetrationBlunt>
                <stoppingPower>1.0</stoppingPower>
                <speed>85</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyPlasma"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyPlasma"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyPlasma"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>false</flyOverhead>
                <damageDef>Milira_PlasmaBombBig</damageDef>
                <explosionRadius>4.2</explosionRadius>
                <damageAmountBase>34</damageAmountBase>
                <armorPenetrationSharp>56</armorPenetrationSharp>
                <armorPenetrationBlunt>2238.5</armorPenetrationBlunt>
                <stoppingPower>1.8</stoppingPower>
                <speed>75</speed>
            </projectile>
        </value>
    </Operation>
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyPlasma"]/comps</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyPlasma"]</xpath>
            <value>
                <comps />
            </value>
        </nomatch>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyPlasma"]/comps</xpath>
        <value>
            <li Class="MiliraCE.CompProperties_ProjectileFleckColorable">
                <FleckDatas>
                    <li>
                        <fleck>Milira_AirPuff</fleck>
                        <fleckColor>(0.6, 0.8, 1.0)</fleckColor>
                        <emissionsPerTick>1</emissionsPerTick>
                        <flecksPerEmission>1</flecksPerEmission>
                        <scale>1</scale>
                    </li>
                </FleckDatas>
            </li>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_HeavyRocket"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_HeavyRocket"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_HeavyRocket"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>true</flyOverhead>
                <damageDef>Bomb</damageDef>
                <explosionRadius>2.5</explosionRadius>
                <damageAmountBase>28</damageAmountBase>
                <armorPenetrationSharp>25</armorPenetrationSharp>
                <armorPenetrationBlunt>47.2</armorPenetrationBlunt>
                <stoppingPower>8.0</stoppingPower>
                <speed>0</speed> <!-- Use turret's CompProperties_Charges -->
                <gravityFactor>5</gravityFactor> <!-- Make the trajectory with flyOverhead=true flatter (and shorter) -->
            </projectile>
        </value>
    </Operation>
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_HeavyRocket"]/comps</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="MiliraProjectile_HeavyRocket"]</xpath>
            <value>
                <comps />
            </value>
        </nomatch>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_HeavyRocket"]/comps</xpath>
        <value>
            <li Class="CombatExtended.CompProperties_Fragments">
                <fragments>
                    <Fragment_Small>25</Fragment_Small>
                    <Fragment_Large>12</Fragment_Large>
                </fragments>
            </li>
            <li Class="CombatExtended.CompProperties_ProjectileFleck">
                <FleckDatas>
                    <li>
                        <fleck>Fleck_CERocketSmokeTrail</fleck>
                        <emissionsPerTick>2</emissionsPerTick>
                        <rotation>0~360</rotation>
                        <flecksPerEmission>1</flecksPerEmission>
                    </li>
                </FleckDatas>
            </li>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyRailGun"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyRailGun"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HeavyRailGun"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Bullet</damageDef>
                <damageAmountBase>30</damageAmountBase>
                <armorPenetrationSharp>85</armorPenetrationSharp>
                <armorPenetrationBlunt>2286</armorPenetrationBlunt>
                <stoppingPower>2.6</stoppingPower>
                <speed>175</speed>
                <secondaryDamage>
                    <li>
                        <def>Stun</def>
                        <amount>8</amount>
                    </li>
                </secondaryDamage>
                <pelletCount>2</pelletCount>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PivotScepter"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PivotScepter"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBullet_Vulnerable</damageDef>
                <damageAmountBase>8</damageAmountBase>
                <armorPenetrationSharp>26</armorPenetrationSharp>
                <armorPenetrationBlunt>112.5</armorPenetrationBlunt>
                <stoppingPower>0.7</stoppingPower>
                <speed>105</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleLongRangeSniper"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleLongRangeSniper"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleLongRangeSniper"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>false</flyOverhead>
                <damageDef>Bullet</damageDef>
                <damageAmountBase>28</damageAmountBase>
                <armorPenetrationSharp>18</armorPenetrationSharp>
                <armorPenetrationBlunt>120</armorPenetrationBlunt>
                <stoppingPower>2.0</stoppingPower>
                <speed>275</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleLongRangeSniper_Charged"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleLongRangeSniper_Charged"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleLongRangeSniper_Charged"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>false</flyOverhead>
                <damageDef>Bullet</damageDef>
                <damageAmountBase>42</damageAmountBase>
                <armorPenetrationSharp>60</armorPenetrationSharp>
                <armorPenetrationBlunt>324</armorPenetrationBlunt>
                <stoppingPower>2.5</stoppingPower>
                <speed>275</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamGun"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAttributeSet">
        <!-- For convenience of making the scattered version of this -->
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamGun"]</xpath>
        <attribute>Name</attribute>
        <value>MilianBullet_ParticleBeamGun</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamGun"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamGun"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>false</flyOverhead>
                <damageDef>Bullet</damageDef>
                <damageAmountBase>10</damageAmountBase>
                <armorPenetrationSharp>2.5</armorPenetrationSharp>
                <armorPenetrationBlunt>6.5</armorPenetrationBlunt>
                <stoppingPower>0.8</stoppingPower>
                <speed>82</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MilianBullet_PulsedBeamGun"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MilianBullet_PulsedBeamGun"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_PulsedBeamGun"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>false</flyOverhead>
                <damageDef>Milira_PlasmaBullet</damageDef>
                <damageAmountBase>8</damageAmountBase>
                <stoppingPower>0.8</stoppingPower>
                <speed>80</speed>
                <extraDamages>
                    <li>
                        <def>EMP</def>
                        <amount>30</amount>
                    </li>
                </extraDamages>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamBlaster"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamBlaster"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamBlaster"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>false</flyOverhead>
                <damageDef>Milira_ParticleBomb</damageDef>
                <explosionRadius>0.4</explosionRadius>
                <damageAmountBase>8</damageAmountBase>
                <armorPenetrationSharp>2.5</armorPenetrationSharp>
                <armorPenetrationBlunt>6.5</armorPenetrationBlunt>
                <stoppingPower>0.8</stoppingPower>
                <speed>75</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamBlasterCharged"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamBlasterCharged"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MilianBullet_ParticleBeamBlasterCharged"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>false</flyOverhead>
                <damageDef>Milira_ParticleBomb</damageDef>
                <explosionRadius>1</explosionRadius>
                <damageAmountBase>12</damageAmountBase>
                <armorPenetrationSharp>6</armorPenetrationSharp>
                <armorPenetrationBlunt>12</armorPenetrationBlunt>
                <stoppingPower>1.0</stoppingPower>
                <speed>75</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_ParticleRifle"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_ParticleRifle"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_ParticleRifle"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Bullet</damageDef>
                <damageAmountBase>15</damageAmountBase>
                <armorPenetrationSharp>2.5</armorPenetrationSharp>
                <armorPenetrationBlunt>6.5</armorPenetrationBlunt>
                <stoppingPower>1.5</stoppingPower>
                <speed>125</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaPistol"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAttributeSet">
        <!-- For convenience of making the scattered version of this -->
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaPistol"]</xpath>
        <attribute>Name</attribute>
        <value>MiliraBullet_PlasmaPistol</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaPistol"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaPistol"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBullet</damageDef>
                <damageAmountBase>8</damageAmountBase>
                <armorPenetrationSharp>8</armorPenetrationSharp>
                <armorPenetrationBlunt>16</armorPenetrationBlunt>
                <stoppingPower>0.7</stoppingPower>
                <speed>105</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaPistolCharged"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAttributeSet">
        <!-- For convenience of making the scattered version of this -->
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaPistolCharged"]</xpath>
        <attribute>Name</attribute>
        <value>MiliraBullet_PlasmaPistolCharged</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaPistolCharged"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaPistolCharged"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBullet</damageDef>
                <damageAmountBase>10</damageAmountBase>
                <armorPenetrationSharp>15</armorPenetrationSharp>
                <armorPenetrationBlunt>25.6</armorPenetrationBlunt>
                <stoppingPower>1.0</stoppingPower>
                <speed>105</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaRifle"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaRifle"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaRifle"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBullet</damageDef>
                <damageAmountBase>10</damageAmountBase>
                <armorPenetrationSharp>15</armorPenetrationSharp>
                <armorPenetrationBlunt>25.6</armorPenetrationBlunt>
                <stoppingPower>1.2</stoppingPower>
                <speed>125</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaRifleCharged"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaRifleCharged"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaRifleCharged"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBullet</damageDef>
                <damageAmountBase>16</damageAmountBase>
                <armorPenetrationSharp>25</armorPenetrationSharp>
                <armorPenetrationBlunt>47.2</armorPenetrationBlunt>
                <stoppingPower>1.5</stoppingPower>
                <speed>125</speed>
                <explosionEffect>Milira_PlasmaChargeHit</explosionEffect>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaRifleCharged_Switched"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaRifleCharged_Switched"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaRifleCharged_Switched"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBomb</damageDef>
                <explosionRadius>1</explosionRadius>
                <damageAmountBase>12</damageAmountBase>
                <armorPenetrationSharp>25</armorPenetrationSharp>
                <armorPenetrationBlunt>47.2</armorPenetrationBlunt>
                <stoppingPower>0.8</stoppingPower>
                <speed>125</speed>
                <explosionEffect>Milira_PlasmaChargeHit</explosionEffect>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannon"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannon"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannon"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBombBig</damageDef>
                <explosionRadius>2.0</explosionRadius>
                <damageAmountBase>12</damageAmountBase>
                <armorPenetrationSharp>8</armorPenetrationSharp>
                <armorPenetrationBlunt>16</armorPenetrationBlunt>
                <stoppingPower>1.0</stoppingPower>
                <speed>105</speed>
            </projectile>
        </value>
    </Operation>
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannon"]/comps</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannon"]</xpath>
            <value>
                <comps />
            </value>
        </nomatch>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannon"]/comps</xpath>
        <value>
            <li Class="MiliraCE.CompProperties_ProjectileFleckColorable">
                <FleckDatas>
                    <li>
                        <fleck>Milira_AirPuffGlow</fleck>
                        <fleckColor>(0.4, 0.8, 1.0)</fleckColor>
                        <emissionsPerTick>1</emissionsPerTick>
                        <flecksPerEmission>1</flecksPerEmission>
                        <scale>1</scale>
                    </li>
                </FleckDatas>
            </li>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannonCharged"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannonCharged"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannonCharged"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBombBig</damageDef>
                <explosionRadius>3.5</explosionRadius>
                <damageAmountBase>42</damageAmountBase>
                <armorPenetrationSharp>25</armorPenetrationSharp>
                <armorPenetrationBlunt>47.2</armorPenetrationBlunt>
                <stoppingPower>2.4</stoppingPower>
                <speed>125</speed>
            </projectile>
        </value>
    </Operation>
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannonCharged"]/comps</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannonCharged"]</xpath>
            <value>
                <comps />
            </value>
        </nomatch>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaCannonCharged"]/comps</xpath>
        <value>
            <li Class="CombatExtended.CompProperties_ExplosiveCE">
                <damageAmountBase>42</damageAmountBase>
                <explosiveDamageType>EMP</explosiveDamageType>
                <explosiveRadius>3.5</explosiveRadius>
            </li>
            <li Class="MiliraCE.CompProperties_ProjectileFleckColorable">
                <FleckDatas>
                    <li>
                        <fleck>Milira_AirPuffGlow</fleck>
                        <fleckColor>(0.4, 0.8, 1.0)</fleckColor>
                        <emissionsPerTick>1</emissionsPerTick>
                        <flecksPerEmission>1</flecksPerEmission>
                        <scale>1</scale>
                    </li>
                </FleckDatas>
            </li>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaMG"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaMG"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaMG"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBullet</damageDef>
                <damageAmountBase>4</damageAmountBase>
                <armorPenetrationSharp>15</armorPenetrationSharp>
                <armorPenetrationBlunt>25.6</armorPenetrationBlunt>
                <stoppingPower>0.4</stoppingPower>
                <speed>85</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaMGCharged"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaMGCharged"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_PlasmaMGCharged"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_PlasmaBullet</damageDef>
                <damageAmountBase>9</damageAmountBase>
                <armorPenetrationSharp>25</armorPenetrationSharp>
                <armorPenetrationBlunt>47.2</armorPenetrationBlunt>
                <stoppingPower>0.8</stoppingPower>
                <speed>105</speed>
                <explosionEffect>Milira_PlasmaChargeHit</explosionEffect>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_MagneticRailRifle"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_MagneticRailRifle"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_MagneticRailRifle"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Bullet</damageDef>
                <damageAmountBase>28</damageAmountBase>
                <armorPenetrationSharp>35</armorPenetrationSharp>
                <armorPenetrationBlunt>119.12</armorPenetrationBlunt>
                <stoppingPower>2.6</stoppingPower>
                <speed>175</speed>
                <secondaryDamage>
                    <li>
                        <def>Stun</def>
                        <amount>2</amount>
                    </li>
                </secondaryDamage>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HandRailGun"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HandRailGun"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HandRailGun"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Milira_RailGunBullet</damageDef>
                <damageAmountBase>45</damageAmountBase>
                <armorPenetrationSharp>63</armorPenetrationSharp>
                <armorPenetrationBlunt>820.36</armorPenetrationBlunt>
                <stoppingPower>5.6</stoppingPower>
                <speed>225</speed>
                <secondaryDamage>
                    <li>
                        <def>Stun</def>
                        <amount>2</amount>
                    </li>
                </secondaryDamage>
                <explosionEffect>Milira_HandRailGunHit</explosionEffect>
            </projectile>
        </value>
    </Operation>
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HandRailGun"]/comps</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="MiliraBullet_HandRailGun"]</xpath>
            <value>
                <comps />
            </value>
        </nomatch>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_HandRailGun"]/comps</xpath>
        <value>
            <li Class="MiliraCE.CompProperties_ExplosiveCEDirectional">
                <damageAmountBase>22.5</damageAmountBase>
                <explosiveDamageType>Milira_KineticBomb</explosiveDamageType>
                <explosiveRadius>1.5</explosiveRadius>
                <directionalDamageAmountBase>22.5</directionalDamageAmountBase>
                <directionalExplosiveDamageType>Milira_KineticBomb</directionalExplosiveDamageType>
                <directionalExplosiveRadius>6</directionalExplosiveRadius>
                <directionalExplosiveAngle>30</directionalExplosiveAngle>
            </li>
            <li Class="CombatExtended.CompProperties_Fragments">
                <fragments>
                    <Fragment_Large>3</Fragment_Large>
                </fragments>
                <fragXZAngleRange>-2~2</fragXZAngleRange>
                <fragAngleRange>-2~2</fragAngleRange>
            </li>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_AutonomousFloatUnit_ParticleBlaster"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_AutonomousFloatUnit_ParticleBlaster"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_AutonomousFloatUnit_ParticleBlaster"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Bullet</damageDef>
                <damageAmountBase>10</damageAmountBase>
                <armorPenetrationSharp>4</armorPenetrationSharp>
                <armorPenetrationBlunt>9</armorPenetrationBlunt>
                <stoppingPower>0.6</stoppingPower>
                <speed>82</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_FloatUnit_SmallPlasmaGun"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseBulletCE</value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_FloatUnit_SmallPlasmaGun"]</xpath>
        <value>
            <thingClass>CombatExtended.BulletCE</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraBullet_FloatUnit_SmallPlasmaGun"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <flyOverhead>false</flyOverhead>
                <damageDef>Bullet</damageDef>
                <damageAmountBase>6</damageAmountBase>
                <armorPenetrationSharp>2</armorPenetrationSharp>
                <armorPenetrationBlunt>6</armorPenetrationBlunt>
                <stoppingPower>0.3</stoppingPower>
                <speed>68</speed>
            </projectile>
        </value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_KnightIV_Hammer"]</xpath>
        <attribute>ParentName</attribute>
        <value>BaseExplosiveBullet</value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_KnightIV_Hammer"]/thingClass</xpath>
        <value>
            <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiliraProjectile_KnightIV_Hammer"]/projectile</xpath>
        <value>
            <projectile Class="CombatExtended.ProjectilePropertiesCE">
                <damageDef>Ancot_StunExceptInstigatorFaction</damageDef>
                <explosionRadius>2.5</explosionRadius>
                <damageAmountBase>8</damageAmountBase>
                <armorPenetrationSharp>18</armorPenetrationSharp>
                <armorPenetrationBlunt>90</armorPenetrationBlunt>
                <stoppingPower>5.0</stoppingPower>
                <speed>46</speed>
            </projectile>
        </value>
    </Operation>

</Patch>