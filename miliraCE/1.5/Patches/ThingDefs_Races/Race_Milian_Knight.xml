<?xml version="1.0" encoding="utf-8"?>
<Patch>

    <!-- Milira_MilianBase_Knight -->

    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[@Name="Milira_MilianBase_Knight"]/statBases</xpath>
        <value>
            <CarryWeight>90</CarryWeight>
            <CarryBulk>30</CarryBulk>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[@Name="Milira_MilianBase_Knight"]/tools</xpath>
        <value>
            <tools>
                <li Class="CombatExtended.ToolCE">
                    <label>left fist</label>
                    <capacities>
                        <li>Blunt</li>
                    </capacities>
                    <power>12.0</power>
                    <cooldownTime>2</cooldownTime>
                    <linkedBodyPartsGroup>LeftHand</linkedBodyPartsGroup>
                    <armorPenetrationBlunt>2.0</armorPenetrationBlunt>
                    <alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
                </li>
                <li Class="CombatExtended.ToolCE">
                    <label>right fist</label>
                    <capacities>
                        <li>Blunt</li>
                    </capacities>
                    <power>12.0</power>
                    <cooldownTime>2</cooldownTime>
                    <linkedBodyPartsGroup>RightHand</linkedBodyPartsGroup>
                    <armorPenetrationBlunt>2.0</armorPenetrationBlunt>
                    <alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
                </li>
            </tools>
        </value>
    </Operation>

    <!-- Milian_Mechanoid_KnightI -->

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightI"]/statBases/ArmorRating_Sharp</xpath>
        <value>
            <ArmorRating_Sharp>1</ArmorRating_Sharp>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightI"]/statBases/ArmorRating_Blunt</xpath>
        <value>
            <ArmorRating_Blunt>1.5</ArmorRating_Blunt>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightI"]/statBases</xpath>
        <value>
            <AimingAccuracy>0.6</AimingAccuracy>
            <ShootingAccuracyPawn>0.769</ShootingAccuracyPawn>
            <NightVisionEfficiency>0.4</NightVisionEfficiency>
            <MeleeDodgeChance>0.14</MeleeDodgeChance>
            <MeleeCritChance>0.06</MeleeCritChance>
            <MeleeParryChance>0.05</MeleeParryChance>
        </value>
    </Operation>

    <!-- Milian_Mechanoid_KnightII -->

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightII"]/statBases/ArmorRating_Sharp</xpath>
        <value>
            <ArmorRating_Sharp>1</ArmorRating_Sharp>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightII"]/statBases/ArmorRating_Blunt</xpath>
        <value>
            <ArmorRating_Blunt>1.5</ArmorRating_Blunt>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightII"]/statBases</xpath>
        <value>
            <AimingAccuracy>0.6</AimingAccuracy>
            <ShootingAccuracyPawn>0.769</ShootingAccuracyPawn>
            <NightVisionEfficiency>0.4</NightVisionEfficiency>
            <MeleeDodgeChance>0.14</MeleeDodgeChance>
            <MeleeCritChance>0.06</MeleeCritChance>
            <MeleeParryChance>0.05</MeleeParryChance>
        </value>
    </Operation>

    <!-- Milian_Mechanoid_KnightIII -->

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightIII"]/statBases/ArmorRating_Sharp</xpath>
        <value>
            <ArmorRating_Sharp>1.5</ArmorRating_Sharp>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightIII"]/statBases/ArmorRating_Blunt</xpath>
        <value>
            <ArmorRating_Blunt>2.5</ArmorRating_Blunt>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightIII"]/statBases</xpath>
        <value>
            <AimingAccuracy>0.6</AimingAccuracy>
            <ShootingAccuracyPawn>0.769</ShootingAccuracyPawn>
            <NightVisionEfficiency>0.4</NightVisionEfficiency>
            <MeleeDodgeChance>0.14</MeleeDodgeChance>
            <MeleeCritChance>0.06</MeleeCritChance>
            <MeleeParryChance>0.05</MeleeParryChance>
        </value>
    </Operation>

    <!-- Milian_Mechanoid_KnightIV -->

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightIV"]/statBases/ArmorRating_Sharp</xpath>
        <value>
            <ArmorRating_Sharp>2</ArmorRating_Sharp>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightIV"]/statBases/ArmorRating_Blunt</xpath>
        <value>
            <ArmorRating_Blunt>3</ArmorRating_Blunt>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_Mechanoid_KnightIV"]/statBases</xpath>
        <value>
            <AimingAccuracy>0.6</AimingAccuracy>
            <ShootingAccuracyPawn>0.769</ShootingAccuracyPawn>
            <NightVisionEfficiency>0.4</NightVisionEfficiency>
            <MeleeDodgeChance>0.14</MeleeDodgeChance>
            <MeleeCritChance>0.06</MeleeCritChance>
            <MeleeParryChance>0.05</MeleeParryChance>
        </value>
    </Operation>

    <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>MiliraGun_KnightIV_Hammer</defName>
        <statBases>
            <SightsEfficiency>1.25</SightsEfficiency>
            <ShotSpread>0.08</ShotSpread>
            <SwayFactor>1.00</SwayFactor>
            <Bulk>6</Bulk>
        </statBases>
        <Properties>
            <verbClass>CombatExtended.Verb_ShootCE</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Bullet_Milian_KnightIV_Hammer</defaultProjectile>
            <requireLineOfSight>true</requireLineOfSight>
            <range>16</range>
            <soundCast>ThrowGrenade</soundCast>
            <soundCastTail>GunTail_Heavy</soundCastTail>
            <muzzleFlashScale>0</muzzleFlashScale>
            <minRange>5.9</minRange>
            <!-- <forcedMissRadius>1.0</forcedMissRadius> -->
            <defaultCooldownTime>15</defaultCooldownTime>
            <linkedBodyPartsGroup>RightHand</linkedBodyPartsGroup>
            <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>12</ticksBetweenBurstShots>
        </Properties>
    </Operation>

</Patch>