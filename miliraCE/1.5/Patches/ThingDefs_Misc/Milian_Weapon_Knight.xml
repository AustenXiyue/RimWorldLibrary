<?xml version="1.0" encoding="utf-8"?>
<Patch>

    <!-- Milian_KnightHalberd -->

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_KnightHalberd"]/tools</xpath>
        <value>
            <tools>
                <li Class="CombatExtended.ToolCE">
                    <label>point</label>
                    <capacities>
                        <li>Milira_HitPointPriority</li>
                    </capacities>
                    <power>35</power>
                    <cooldownTime>3.5</cooldownTime>
                    <armorPenetrationSharp>17.5</armorPenetrationSharp>
                    <armorPenetrationBlunt>9</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
                </li>
                <li Class="CombatExtended.ToolCE">
                    <label>blade</label>
                    <capacities>
                        <li>Cut</li>
                    </capacities>
                    <power>25</power>
                    <cooldownTime>2.8</cooldownTime>
                    <armorPenetrationSharp>8</armorPenetrationSharp>
                    <armorPenetrationBlunt>35</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Blade</linkedBodyPartsGroup>
                </li>
            </tools>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_KnightHalberd"]/statBases</xpath>
        <value>
            <Bulk>18</Bulk>
            <MeleeCounterParryBonus>0.6</MeleeCounterParryBonus>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_KnightHalberd"]/equippedStatOffsets/MeleeHitChance</xpath>
        <value>
            <MeleeHitChance>15.0</MeleeHitChance>
            <MeleeCritChance>0.5</MeleeCritChance>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_KnightHalberd"]/equippedStatOffsets/MeleeDodgeChance</xpath>
        <value>
            <MeleeParryChance>0.15</MeleeParryChance>
            <MeleeDodgeChance>0.20</MeleeDodgeChance>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ManeuverDef[defName="Milira_HitPointPriority"]/verb/verbClass</xpath>
        <value>
            <verbClass>MiliraCE.Verb_MeleeAttackCE_HitPointPriority</verbClass>
        </value>
    </Operation>

    <!-- Milian_KnightSword -->

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_KnightSword"]/tools</xpath>
        <value>
            <tools>
                <li Class="CombatExtended.ToolCE">
                    <label>point</label>
                    <capacities>
                        <li>Stab</li>
                    </capacities>
                    <power>18</power>
                    <cooldownTime>2.6</cooldownTime>
                    <armorPenetrationSharp>6</armorPenetrationSharp>
                    <armorPenetrationBlunt>3</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
                </li>
                <li Class="CombatExtended.ToolCE">
                    <label>edge</label>
                    <capacities>
                        <li>Cut</li>
                    </capacities>
                    <power>26</power>
                    <cooldownTime>2.6</cooldownTime>
                    <armorPenetrationSharp>2.1</armorPenetrationSharp>
                    <armorPenetrationBlunt>10</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
                </li>
            </tools>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_KnightSword"]/statBases</xpath>
        <value>
            <Bulk>9</Bulk>
            <MeleeCounterParryBonus>0.3</MeleeCounterParryBonus>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_KnightSword"]/equippedStatOffsets</xpath>
        <value>
            <MeleeCritChance>0.15</MeleeCritChance>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_KnightSword"]/weaponTags</xpath>
        <value>
            <li>CE_OneHandedWeapon</li>
        </value>
    </Operation>

    <!-- Milian_KnightLance -->

    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_KnightLance"]/tools</xpath>
        <value>
            <tools>
                <li Class="CombatExtended.ToolCE">
                    <label>point</label>
                    <capacities>
                        <li>Stab</li>
                    </capacities>
                    <power>9</power>
                    <cooldownTime>0.9</cooldownTime>
                    <armorPenetrationSharp>27</armorPenetrationSharp>
                    <armorPenetrationBlunt>13.5</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
                </li>
            </tools>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_KnightLance"]/statBases</xpath>
        <value>
            <Bulk>18</Bulk>
            <MeleeCounterParryBonus>0.9</MeleeCounterParryBonus>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_KnightLance"]/equippedStatOffsets/MeleeHitChance</xpath>
        <value>
            <MeleeHitChance>12.0</MeleeHitChance>
            <MeleeCritChance>0.2</MeleeCritChance>
        </value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_KnightLance"]/equippedStatOffsets/MeleeDodgeChance</xpath>
        <value>
            <MeleeParryChance>0.10</MeleeParryChance>
            <MeleeDodgeChance>0.15</MeleeDodgeChance>
        </value>
    </Operation>

    <!-- Milian_KnightHammer -->
    <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="Milian_KnightHammer"]/tools</xpath>
        <value>
            <tools>
                <li Class="CombatExtended.ToolCE">
                    <label>head</label>
                    <capacities>
                        <li>Blunt</li>
                    </capacities>
                    <power>20</power>
                    <cooldownTime>2.5</cooldownTime>
                    <armorPenetrationBlunt>17.5</armorPenetrationBlunt>
                    <extraMeleeDamages>
                        <li>
                            <def>Stun</def>
                            <amount>4</amount>
                            <chance>0.75</chance>
                        </li>
                    </extraMeleeDamages>
                    <linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
                </li>
            </tools>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_KnightHammer"]/statBases</xpath>
        <value>
            <Bulk>9</Bulk>
            <MeleeCounterParryBonus>0.25</MeleeCounterParryBonus>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_KnightHammer"]/equippedStatOffsets</xpath>
        <value>
            <MeleeCritChance>2.0</MeleeCritChance>
        </value>
    </Operation>
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="Milian_KnightHammer"]/weaponTags</xpath>
        <value>
            <li>CE_OneHandedWeapon</li>
        </value>
    </Operation>

</Patch>